<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:t="http://myfaces.apache.org/tomahawk">
<ui:composition>
	<div>
		<h:graphicImage url="#{config.server}/img/#{singer.image}" style="width:100%" styleClass="avatar"/>
	</div>
	<br></br>
	<table cellpadding="0" cellspacing="0" style="width: 100%;" class="detail-text">
		<tr>
			<td align="left" style="padding-left: 12px;">
				<h:outputText value="#{singer.nFans} #{msg.like}"/>
			</td>
			<td align="right" style="padding-right: 12px;">
				<h:commandLink rendered="#{not singer.liked}" style="">
					<f:param name="singerId" value="#{singer.id}"/>
					<f:param name="referenceBeanName" value="#{bean.beanName}"/>
					<f:ajax event="click" render="@form" listener="#{zentaiBean.likeSinger}"/>
					<h:graphicImage url="#{config.server}/img/client/like.png"/>
					<h:outputText value="#{msg.like}" styleClass="like"/>
				</h:commandLink>
				<h:commandLink rendered="#{singer.liked}">
					<f:param name="singerId" value="#{singer.id}"/>
					<f:param name="referenceBeanName" value="#{bean.beanName}"/>
					<f:ajax event="click" render="@form" listener="#{zentaiBean.unlikeSinger}"/>
					<h:graphicImage url="#{config.server}/img/client/unlike.png"/>
					<h:outputText value="#{msg.like}" styleClass="unlike"/>
				</h:commandLink>
			</td>
		</tr>
		<tr>
			<td align="left" style="padding-left: 12px;">
				<h:outputText value="#{singer.nFollowers} #{msg.follow}"/>
			</td>
			<td align="right" style="padding-right: 12px;">
				<h:commandLink rendered="#{not singer.followed}">
					<f:param name="singerId" value="#{singer.id}"/>
					<f:param name="referenceBeanName" value="#{bean.beanName}"/>
					<f:ajax event="click" render="@form" listener="#{zentaiBean.followSinger}"/>
					<h:graphicImage url="#{config.server}/img/client/like.png"/>
					<h:outputText value="#{msg.follow}" styleClass="follow"/>
				</h:commandLink>
				<h:commandLink rendered="#{singer.followed}">
					<f:param name="singerId" value="#{singer.id}"/>
					<f:param name="referenceBeanName" value="#{bean.beanName}"/>
					<f:ajax event="click" render="@form" listener="#{zentaiBean.unfollowSinger}"/>
					<h:graphicImage url="#{config.server}/img/client/unlike.png"/>
					<h:outputText value="#{msg.follow}" styleClass="unfollow"/>
				</h:commandLink>
			</td>
		</tr>
	</table>
	<t:div>
		<h:outputText value="#{singer.description}"/>
	</t:div>
</ui:composition>
</html>