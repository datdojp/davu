<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition>
	<h:dataTable var="aSinger" value="#{singers}" styleClass="dataTable" >
		<h:column>
			<h:panelGrid columns="2">
				<h:commandLink onclick="slideToDetail();">
					<f:param name="singerId" value="#{aSinger.id}"/>
					<f:ajax event="click" execute="@form" render=":detail" listener="#{detailBean.showSingerDetail}"/>
					<h:graphicImage url="#{config.server}/img/#{aSinger.image}"/>
				</h:commandLink>
				<h:panelGrid columns="2">
					<h:outputText value="#{msg.client_clips_singer_name}:#{aSinger.name}"/>
					<h:outputText value="#{msg.client_clips_singer_birthday}:#{aSinger.birthday}">
						<f:convertDateTime pattern="dd.MM.yyyy"/>
					</h:outputText>
					<h:outputText value="#{msg.client_clips_singer_company}:#{aSinger.company}"/>
					<h:outputText value="#{msg.client_clips_singer_website}:#{aSinger.website}"/>
					<h:commandButton value="#{msg.CU0024}" rendered="#{userProfileBean.loggedIn and not aSinger.liked}">
						<f:param name="singerId" value="#{aSinger.id}"/>
						<f:param name="referenceBeanName" value="#{bean.beanName}"/>
						<f:ajax event="click" render="@form" listener="#{zentaiBean.likeSinger}"/>
					</h:commandButton>
					<h:commandButton value="#{msg.CU0025}" rendered="#{userProfileBean.loggedIn and aSinger.liked}">
						<f:param name="singerId" value="#{aSinger.id}"/>
						<f:param name="referenceBeanName" value="#{bean.beanName}"/>
						<f:ajax event="click" render="@form" listener="#{zentaiBean.unlikeSinger}"/>
					</h:commandButton>
					<h:commandButton value="#{msg.client_clips_singer_follow}" rendered="#{userProfileBean.loggedIn and not aSinger.followed}">
						<f:param name="singerId" value="#{aSinger.id}"/>
						<f:param name="referenceBeanName" value="#{bean.beanName}"/>
						<f:ajax event="click" render="@form" listener="#{zentaiBean.followSinger}"/>
					</h:commandButton>
					<h:commandButton value="#{msg.client_clips_singer_unfollow}" rendered="#{userProfileBean.loggedIn and aSinger.followed}">
						<f:param name="singerId" value="#{aSinger.id}"/>
						<f:param name="referenceBeanName" value="#{bean.beanName}"/>
						<f:ajax event="click" render="@form" listener="#{zentaiBean.unfollowSinger}"/>
					</h:commandButton>
				</h:panelGrid>
			</h:panelGrid>
		</h:column>
		<h:column>
			<h:outputText value="#{aSinger.nClips} #{msg.client_clips_singer_clip}"/>
		</h:column>
		<h:column>
			<h:outputText value="#{aSinger.nFans} #{msg.client_clips_singer_fan}"/>
		</h:column>
		<h:column>
			<h:outputText value="#{aSinger.nFollowers} #{msg.client_clips_singer_follower}"/>
		</h:column>
	</h:dataTable>
</ui:composition>
</html>