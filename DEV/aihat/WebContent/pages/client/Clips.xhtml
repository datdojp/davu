<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:client="http://www.aihat.net/client">
<ui:composition>
	<h:form id="clips" styleClass="clips">
		<div class="style006">
			<table style="width: 100%; height:100%" cellpadding="0" cellspacing="0">
				<tr>
					<td align="center" style="width: 30%">
						<t:div rendered="#{clipsBean.displayTab eq 'clips'}">
							<client:clip-list-func formId="clips" checkBoxId="selectClipCheckBox" bean="#{clipsBean}"/>
						</t:div>
					</td>
					<td align="left">
						<table>
							<tr>
								<td>
									<div class="style009" align="center">
										<h:inputText value="#{clipsBean.searchKeyword}" styleClass="searchKeywordInput"/>
									</div>
								</td>
								<td>
									<table cellpadding="0" cellspacing="1">
										<tr>
											<td>
												<client:button>
													<ui:define name="button-body">
														<h:commandButton value="#{msg.CU0048}" styleClass="searchBtn">
															<f:ajax event="click" execute="@form" render="@form" listener="#{clipsBean.search}" />
														</h:commandButton>
													</ui:define>
												</client:button>
											</td>
											<td>
												<t:div rendered="#{not empty clipsBean.searchKeyword}">
													<client:button>
														<ui:define name="button-body">
															<h:commandButton value="#{msg.remove_search}">
																<f:ajax event="click" execute="@form" render="@form" listener="#{clipsBean.removeSearch}" />
															</h:commandButton>
														</ui:define>
													</client:button>
												</t:div>
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td align="center" style="vertical-align: bottom;" colspan="2">
						<table class="style008" cellspacing="0" cellpadding="0" border="0">
							<tr>
								<td>
									<h:commandButton value="#{msg.client_clips_clip}(#{clipsBean.tabDataCountMap['clips']})" styleClass="clips">
										<f:ajax event="click" render="@form" listener="#{clipsBean.selectClipsTab}"/>
									</h:commandButton>
								</td>
								<td>
									<h:commandButton value="#{msg.client_clips_singer}(#{clipsBean.tabDataCountMap['singers']})" styleClass="singers">
										<f:ajax event="click" render="@form" listener="#{clipsBean.selectSingersTab}"/>
									</h:commandButton>
								</td>
								<td>
									<h:commandButton value="#{msg.client_clips_composer}(#{clipsBean.tabDataCountMap['composers']})" styleClass="composers">
										<f:ajax event="click" render="@form" listener="#{clipsBean.selectComposersTab}"/>
									</h:commandButton>
								</td>
								<td>
									<h:commandButton value="#{msg.client_clips_playlist}(#{clipsBean.tabDataCountMap['playlists']})" styleClass="playlists">
										<f:ajax event="click" render="@form" listener="#{clipsBean.selectPlaylistsTab}"/>
									</h:commandButton>
								</td>
								<td>
									<h:commandButton value="#{msg.client_clips_genre}(#{clipsBean.tabDataCountMap['genres']})" styleClass="genres">
										<f:ajax event="click" render="@form" listener="#{clipsBean.selectGenresTab}"/>
									</h:commandButton>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</div>
		<script>
			$(function() {
			    $("#clips").find(".searchKeywordInput").keypress(function (e) {
			        if ((e.which &amp;&amp; e.which == 13) || (e.keyCode &amp;&amp; e.keyCode == 13)) {
			            $("#clips").find(".searchBtn").click();
			            return false;
			        } else {
			            return true;
			        }
			    });
			});
		</script>
		<h:inputHidden id="selectClipCheckBox"/>
		<script>
			$("#clips").find(".#{clipsBean.displayTab}").addClass("selected");
		</script>
		<t:div id="divSearchResults">
			<table cellpadding="0" cellspacing="0" style="width: 100%; vertical-align: middle;">
				<tr>
					<td style="width: 20%;vertical-align: top;">
						<client:sidePanel rendered="#{true}">
							<ui:define name="title"></ui:define>
							<ui:define name="body"></ui:define>
						</client:sidePanel>
					</td>
					<td style="vertical-align: top;" align="center">
						<t:div rendered="#{clipsBean.displayTab eq 'clips'}">
							<client:clip-list formId="clips" clips="#{clipsBean.tabDataMap['clips']}" bean="#{clipsBean}"/>
							<client:paging bean="#{clipsBean}"/>
						</t:div>
						<t:div rendered="#{clipsBean.displayTab eq 'singers'}">
							<client:singer-list singers="#{clipsBean.tabDataMap['singers']}" bean="#{clipsBean}"/>
							<client:paging bean="#{clipsBean}"/>
						</t:div>
						<t:div rendered="#{clipsBean.displayTab eq 'composers'}">
							<client:composer-list composers="#{clipsBean.tabDataMap['composers']}"/>
							<client:paging bean="#{clipsBean}"/>
						</t:div>
						<t:div rendered="#{clipsBean.displayTab eq 'playlists'}">
							<client:playlist-list playlists="#{clipsBean.tabDataMap['playlists']}"/>
							<client:paging bean="#{clipsBean}"/>
						</t:div>
						<t:div rendered="#{clipsBean.displayTab eq 'genres'}">
							<client:genre-list genres="#{clipsBean.tabDataMap['genres']}"/>
						</t:div>
					</td>
					<td style="width: 20%;vertical-align: top;">
						<client:sidePanel rendered="#{true}">
							<ui:define name="title"></ui:define>
							<ui:define name="body"></ui:define>
						</client:sidePanel>
					</td>
				</tr>
			</table>
		</t:div>
		<client:messages formId="clips"/>
		<c:if test="#{clipsBean.focusSearchKeyword}">
			<script>
				$(".searchKeywordInput").focus();
			</script>
		</c:if>
	</h:form>
</ui:composition>
</html>